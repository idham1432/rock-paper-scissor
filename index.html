<!DOCTYPE html>
<html lang="en">
<head>
  <title>Rock, Paper, Scissor</title>
  <style>
    body {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .btn-play-container {
      margin-bottom: 10px;
    }
    .btn-rock,
    .btn-paper,
    .btn-scissor {
      height: 30px;
      margin: 5px;
      cursor: pointer;
      padding: 5px 10px;
      font-weight: bold;
    }
    .btn-reset {
      cursor: pointer;
      padding: 2px 5px;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <!-- Buttons for each choice the user can make -->
  <div class="btn-play-container">
    <button class="btn-rock" onclick="playGame('Rock')">Rock</button>
    <button class="btn-paper" onclick="playGame('Paper')">Paper</button>
    <button class="btn-scissor" onclick="playGame('Scissor')">Scissor</button>
  </div>
  <div class="btn-reset-container">
    <!-- Button to reset the score -->
    <button class="btn-reset" onclick="resetScore()">Reset Score</button>
  </div>
  

  <script>
    // Load the score from localStorage when the page is loaded
    let score = JSON.parse(localStorage.getItem('score'));

    // Check if the score in localStorage is null (first time the game is loaded)
    if (!score) {
      score = {
        wins: 0, // Initializing wins to 0
        losses: 0, // Initializing losses to 0
        ties: 0, // Initializing ties to 0
      }
    }

    let compMove = '';   // Variable to store computer's move
    let userMove = '';   // Variable to store user's move
    let result = '';     // Variable to store the result of the game

    // Function to randomly pick the computer's move
    function pickCompMove() {
      // Generate a random number between 0 and 1
      compRange = Math.random();
      // Assign computer's move based on the generated random number
      if (compRange >= 0 && compRange < 1/3){
        compMove = 'Rock';
      } else if (compRange >= 1/3 && compRange < 2/3) {
        compMove = 'Paper';
      } else if (compRange >= 2/3 && compRange < 1) {
        compMove = 'Scissor';
      }
    }

    // Function to reset the score to 0 and clear the localStorage
    function resetScore() {
      score.wins = 0;
      score.losses = 0;
      score.ties = 0;
      localStorage.removeItem('score'); // Remove score from localStorage
      alert('The score has been reset.'); // Notify the user
    }

    // Function to play the game when the user picks a move
    function playGame(userMove) {
      pickCompMove();
      
      // Determine the result based on user's move and computer's move
      if (userMove === 'Rock') {
        if (compMove === 'Rock') {
          result = 'Tie.';
        } else if (compMove === 'Paper') {
          result = 'You lose!';
        } else if (compMove === 'Scissor') {
          result = 'You win!';
        }
      } else if (userMove === 'Paper') {
        if (compMove === 'Rock') {
          result = 'You win!';
        } else if (compMove === 'Paper') {
          result = 'Tie.';
        } else if (compMove === 'Scissor') {
          result = 'You lose!';
        }
      } else if (userMove === 'Scissor') {
        if (compMove === 'Rock') {
          result = 'You lose!';
        } else if (compMove === 'Paper') {
          result = 'You win!';
        } else if (compMove === 'Scissor') {
          result = 'Tie.';
        }
      }
      
      // Update the score based on the result of the game
      if (result === 'You win!') {
        score.wins += 1;
      } else if (result === 'You lose!') {
        score.losses += 1;
      } else if (result === 'Tie.') {
        score.ties += 1;
      }
      
      // Save the updated score to localStorage
      localStorage.setItem('score', JSON.stringify(score));
      
      // Display an alert with the result of the game and current score
      alert(`You picked: ${userMove}, Computer picked: ${compMove}, Result: ${result}
Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`);
    }
  </script>
</body>
</html>